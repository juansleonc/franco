pre-commit:
  parallel: false
  commands:
    api_rspec:
      run: docker compose exec -T api bash -lc "RAILS_ENV=test bundle exec rails db:prepare && bundle exec rspec"
      stage_fixed: false
    api_rubocop:
      run: docker compose exec -T api bash -lc "bundle exec rubocop -A && bundle exec rubocop"
      stage_fixed: true
    app_eslint:
      run: cd app && npm run lint --silent
      stage_fixed: true
    app_typecheck:
      run: cd app && npm run typecheck --silent
      stage_fixed: true
    app_jest:
      run: cd app && npm run test:ci --silent
      stage_fixed: true
